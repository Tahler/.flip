<Window x:Class="dotFlip.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:dotFlip"
        mc:Ignorable="d"
        Title=".flip Demo"
        Width="719"
        Height="600">
    <Window.Resources>
        <local:SliderConverter x:Key="brushConverter" />
    </Window.Resources>
    <Grid x:Name="grid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"
                              MinWidth="200"
                              MaxWidth="400"/>
            <ColumnDefinition Width="3*"/>
        </Grid.ColumnDefinitions>
        <StackPanel x:Name="controlPanel" 
                    Grid.Column="0"
                    Background="WhiteSmoke">
            <RadioButton GroupName="Tools" x:Name="RadioPencil" Content="Pencil" IsChecked="True" Checked="Radio_Checked"/>
            <RadioButton GroupName="Tools" x:Name="RadioPen" Content="Pen" Checked="Radio_Checked"/>
            <RadioButton GroupName="Tools" x:Name="RadioMarker" Content="Highlighter" Checked="Radio_Checked"/>
            <RadioButton GroupName="Tools" x:Name="Eraser" Content="Eraser" Checked="Radio_Checked"/>
            <StackPanel x:Name="ThicknessPanel" 
                    Width="150" 
                    Background="WhiteSmoke">
                <Label x:Name="ThicknessLabel" Content="Thickness"/>
                <Slider x:Name="ThicknessSlider" Minimum="2" Maximum="100" ValueChanged="ThicknessSlider_ValueChanged" Value="5"/>
            </StackPanel>
            <Label x:Name="ColorLabel" Content="Color:"/>
            <TextBox x:Name="ColorSelector" Height="23" TextWrapping="Wrap" TextChanged="ColorSelector_TextChanged">
                <TextBox.Text>
                    <MultiBinding Converter="{StaticResource brushConverter}" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                        <Binding Path="Value" ElementName="ToolRedSlider"/>
                        <Binding Path="Value" ElementName="ToolGreenSlider"/>
                        <Binding Path="Value" ElementName="ToolBlueSlider"/>
                    </MultiBinding>
                </TextBox.Text>
            </TextBox>
            <UniformGrid Columns="3"
                         Rows="2">
                <Label Content="Red"/>
                <Label Content="Green"/>
                <Label Content="Blue"/>
                <Slider x:Name="ToolRedSlider" Minimum="0" Maximum="255"/>
                <Slider x:Name="ToolGreenSlider" Minimum="0" Maximum="255"/>
                <Slider x:Name="ToolBlueSlider" Minimum="0" Maximum="255"/>
            </UniformGrid>
            <Label x:Name="CanvasColorLabel" Content="Canvas Color:"/>
            <TextBox x:Name="CanvasColorSelector" Height="23" TextWrapping="Wrap" TextChanged="CanvasColorSelector_TextChanged">
                <TextBox.Text>
                    <MultiBinding Converter="{StaticResource brushConverter}" Mode="TwoWay"  UpdateSourceTrigger="PropertyChanged">
                        <Binding Path="Value" ElementName="CanvasRedSlider" />
                        <Binding Path="Value" ElementName="CanvasGreenSlider" />
                        <Binding Path="Value" ElementName="CanvasBlueSlider" />
                    </MultiBinding>
                </TextBox.Text>
            </TextBox>
            <UniformGrid>
                <Label Content="Red"/>
                <Label Content="Green"/>
                <Label Content="Blue"/>
                <Slider x:Name="CanvasRedSlider" Minimum="0" Maximum="255" Value="255"/>
                <Slider x:Name="CanvasGreenSlider" Minimum="0" Maximum="255" Value="254"/>
                <Slider x:Name="CanvasBlueSlider" Minimum="0" Maximum="255" Value="120"/>
            </UniformGrid>
        </StackPanel>
    </Grid>
</Window>
